{"version":3,"sources":["pages/constants.ts","pages/utils.ts","pages/style.ts","components/SingleStar.tsx","components/StarsMeta.tsx","pages/pc/head/index.tsx","pages/pc/index.tsx","pages/mobile/head/index.tsx","pages/mobile/index.tsx","pages/index.tsx","App.tsx","index.tsx"],"names":["viewHeight","document","body","clientHeight","viewWidth","clientWidth","generatePosByWidth","widthValue","Math","floor","random","generateNewValue","basicVlaue","generateValueBetween","smallVlaue","largeValue","diff","changeTenToSixteen","value","toString","getSixteenValue","resValue","generateColorString","redValue","greenValue","blueValue","getStarRate","Number","toFixed","PagesOuterWrapper","styled","div","HeaderOuterWrapper","SingleStar","props","posX","posY","rate","bgColor","defaultPosX","defaultPosY","defalutRate","displaySpeed","defaultBgColor","useState","setPosX","setPosY","setRate","setBgColor","dropFlagRef","useRef","useEffect","dropTimer","setInterval","current","changeVerticalPos","clearInterval","oldPosY","reInitStateExcludeHeight","getNewPosition","opacityValue","posValue","posRate","pow","starsMeta","setStarsMeta","newStarsMeta","Array","fill","map","data","item","StarsMeta","isMobile","window","navigator","userAgent","toLowerCase","indexOf","App","className","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b3082596.chunk.js","sourcesContent":["export const viewHeight = document.body.clientHeight;\r\nexport const viewWidth = document.body.clientWidth;\r\n","export const generatePosByWidth = (widthValue: number): number =>\r\n  Math.floor(Math.random() * widthValue);\r\n\r\nexport const generateNewValue = (basicVlaue: number = -50): number =>\r\n  Math.floor(Math.random() * basicVlaue);\r\n\r\nexport const generateValueBetween = (\r\n  smallVlaue: number,\r\n  largeValue: number\r\n): number => {\r\n  const diff = largeValue - smallVlaue;\r\n\r\n  if (diff <= 1) {\r\n    return Math.floor(Math.random() * diff * 100) / 100 + smallVlaue;\r\n  }\r\n\r\n  return Math.floor(Math.random() * diff) + smallVlaue;\r\n};\r\n\r\nexport const changeTenToSixteen = (value: number): string => {\r\n  if (value < 16) {\r\n    return `0${value.toString(16)}`;\r\n  }\r\n\r\n  return value.toString(16);\r\n};\r\nconst getSixteenValue = () => {\r\n  const resValue = generateValueBetween(0, 255);\r\n\r\n  return changeTenToSixteen(resValue);\r\n};\r\nexport const generateColorString = () => {\r\n  const redValue = getSixteenValue();\r\n  const greenValue = getSixteenValue();\r\n  const blueValue = getSixteenValue();\r\n\r\n  return `#${redValue}${greenValue}${blueValue}`;\r\n};\r\n\r\nexport const getStarRate = (): number =>\r\n  Number(generateValueBetween(0.08, 0.2).toFixed(2));\r\n\r\nexport const judgeIsMobile = (value: string): boolean => {\r\n  return (\r\n    value.indexOf(\"iphone\") > -1 ||\r\n    value.indexOf(\"android\") > -1 ||\r\n    value.indexOf(\"ipad\") > -1\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\nimport { CommonStarType } from \"../pages/type\";\r\n\r\nexport const PagesOuterWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const HeaderOuterWrapper = styled.div`\r\n  width: 100%;\r\n  height: 80px;\r\n`;\r\n\r\nconst getMainStyle = (props: CommonStarType) => {\r\n  const { posX = 0, posY = 0, rate = 1, bgColor = \"#f9f9f9\" } = props;\r\n\r\n  return `\r\n    top: ${posY}px;\r\n    left: ${posX}px;\r\n    border-right: ${rate * 100}px solid transparent;\r\n    border-bottom: ${rate * 70}px solid ${bgColor};\r\n    border-left: ${rate * 100}px solid transparent;\r\n  `;\r\n};\r\nconst getBeforeStyle = (props: CommonStarType) => {\r\n  const { rate = 1, bgColor = \"#f9f9f9\" } = props;\r\n\r\n  const topValue = rate * -45;\r\n\r\n  return `\r\n    top: ${topValue}px;\r\n    left: ${rate * -65}px;\r\n    border-bottom: ${rate * 80}px solid ${bgColor};\r\n    border-left: ${rate * 30}px solid transparent;\r\n    border-right: ${rate * 30}px solid transparent;\r\n    \r\n  `;\r\n};\r\nconst getAfterStyle = (props: CommonStarType) => {\r\n  const { rate = 1, bgColor = \"#f9f9f9\" } = props;\r\n\r\n  return `\r\n    top: ${rate * 3}px;\r\n    left: ${rate * -105}px;\r\n    border-right: ${rate * 100}px solid transparent;\r\n    border-bottom: ${rate * 70}px solid ${bgColor};\r\n    border-left: ${rate * 100}px solid transparent;\r\n  `;\r\n};\r\nexport const SingleStar = styled.div`\r\n  position: fixed;\r\n  display: block;\r\n  color: red;\r\n  width: 0px;\r\n  height: 0px;\r\n  -moz-transform: rotate(35deg);\r\n  -webkit-transform: rotate(35deg);\r\n  -ms-transform: rotate(35deg);\r\n  -o-transform: rotate(35deg);\r\n  ${getMainStyle}\r\n\r\n  ::before {\r\n    position: absolute;\r\n    height: 0;\r\n    width: 0;\r\n    display: block;\r\n    content: \"\";\r\n    -webkit-transform: rotate(-35deg);\r\n    -moz-transform: rotate(-35deg);\r\n    -ms-transform: rotate(-35deg);\r\n    -o-transform: rotate(-35deg);\r\n    ${getBeforeStyle}\r\n  }\r\n\r\n  ::after {\r\n    position: absolute;\r\n    display: block;\r\n    color: red;\r\n    width: 0px;\r\n    height: 0px;\r\n    -webkit-transform: rotate(-70deg);\r\n    -moz-transform: rotate(-70deg);\r\n    -ms-transform: rotate(-70deg);\r\n    -o-transform: rotate(-70deg);\r\n    content: \"\";\r\n    ${getAfterStyle}\r\n  }\r\n`;\r\n","/*\r\n *\r\n * created time: 2021/8/5 0005\r\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\r\n *\r\n */\r\n\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport { viewWidth, viewHeight } from \"../pages/constants\";\r\nimport {\r\n  generatePosByWidth,\r\n  generateNewValue,\r\n  generateColorString,\r\n  getStarRate,\r\n  changeTenToSixteen,\r\n} from \"../pages/utils\";\r\nimport { SingleStar } from \"../pages/style\";\r\nimport { SingleStarPropsType } from \"../pages/type\";\r\n\r\nexport default (props: SingleStarPropsType) => {\r\n  const {\r\n    posX: defaultPosX = 0,\r\n    posY: defaultPosY = 0,\r\n    rate: defalutRate = 1,\r\n    displaySpeed = 2,\r\n    bgColor: defaultBgColor = \"#eee\",\r\n  } = props;\r\n\r\n  const [posX, setPosX] = useState(defaultPosX);\r\n  const [posY, setPosY] = useState(defaultPosY);\r\n  const [rate, setRate] = useState(defalutRate);\r\n  const [bgColor, setBgColor] = useState(`${defaultBgColor}00`);\r\n\r\n  const dropFlagRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    const dropTimer = setInterval(() => {\r\n      if (dropFlagRef.current <= 255) {\r\n        dropFlagRef.current = dropFlagRef.current + displaySpeed;\r\n      }\r\n\r\n      changeVerticalPos();\r\n    }, 200);\r\n\r\n    return () => {\r\n      dropTimer && clearInterval(dropTimer);\r\n    };\r\n  }, []);\r\n\r\n  const changeVerticalPos = () => {\r\n    setPosY((oldPosY) => {\r\n      if (oldPosY >= viewHeight) {\r\n        dropFlagRef.current = 0;\r\n        reInitStateExcludeHeight();\r\n\r\n        return generateNewValue(30);\r\n      }\r\n\r\n      if (dropFlagRef.current >= 255) {\r\n        return getNewPosition(oldPosY);\r\n      }\r\n\r\n      const opacityValue = changeTenToSixteen(dropFlagRef.current);\r\n\r\n      setBgColor(`${defaultBgColor}${opacityValue}`);\r\n      return oldPosY;\r\n    });\r\n  };\r\n  const reInitStateExcludeHeight = () => {\r\n    setPosX(generatePosByWidth(viewWidth));\r\n    setBgColor(`${generateColorString()}00`);\r\n    setRate(getStarRate());\r\n  };\r\n  const getNewPosition = (posValue: number): number => {\r\n    if (posValue <= 10) {\r\n      return posValue + 1;\r\n    }\r\n\r\n    const posRate = posValue / viewHeight;\r\n\r\n    return posValue + Math.pow(1 + posRate * 5, 3);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SingleStar posY={posY} posX={posX} rate={rate} bgColor={bgColor} />\r\n    </div>\r\n  );\r\n};\r\n","/*\n *\n * created time: 2021/8/5 0005\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\n *\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport SingleStar from \"./SingleStar\";\nimport { viewWidth } from \"../pages/constants\";\nimport {\n  generatePosByWidth,\n  generateNewValue,\n  generateColorString,\n  getStarRate,\n  generateValueBetween,\n} from \"../pages/utils\";\nimport { StarsMetaPropsType, SingleOuterWrapperType } from \"../pages/type\";\n\nfunction generateStarsMeta(widthValue: number): SingleOuterWrapperType[] {\n  const newArr = new Array(10).fill({});\n\n  return newArr.map(() => {\n    return {\n      rate: getStarRate(),\n      posX: generatePosByWidth(widthValue),\n      posY: generateNewValue(30),\n      bgColor: generateColorString(),\n      displaySpeed: generateValueBetween(2, 30),\n    };\n  });\n}\n\nexport default (props: StarsMetaPropsType) => {\n  const {} = props;\n\n  const [starsMeta, setStarsMeta] = useState<SingleOuterWrapperType[]>([]);\n\n  useEffect(() => {\n    const newStarsMeta = generateStarsMeta(viewWidth);\n\n    setStarsMeta(newStarsMeta);\n  }, []);\n\n  const getStars = (data: SingleOuterWrapperType[]) => {\n    return data?.map((item: SingleOuterWrapperType) => {\n      const {\n        posX = 0,\n        posY = 0,\n        rate = 1,\n        bgColor = \"#eee\",\n        displaySpeed = 2,\n      } = item;\n\n      return (\n        <SingleStar\n          key={`${posX}-${rate}`}\n          posX={posX}\n          posY={posY}\n          rate={rate}\n          displaySpeed={displaySpeed}\n          bgColor={bgColor}\n        />\n      );\n    });\n  };\n\n  return <div>{getStars(starsMeta)}</div>;\n};\n","/*\r\n *\r\n * created time: 2021/8/5 0005\r\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\r\n *\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport StarsMeta from \"../../../components/StarsMeta\";\r\nimport { HeaderOuterWrapper } from \"../../style\";\r\n\r\nexport default (props: any) => {\r\n  const {} = props;\r\n\r\n  const [] = useState();\r\n\r\n  return (\r\n    <HeaderOuterWrapper>\r\n      <StarsMeta />\r\n    </HeaderOuterWrapper>\r\n  );\r\n};\r\n","/*\r\n *\r\n * created time: 2021/8/5 0005\r\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\r\n *\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport Header from \"./head\";\r\nimport { PagesOuterWrapper } from \"../style\";\r\n\r\nexport default (props: any) => {\r\n  const {} = props;\r\n\r\n  const [] = useState();\r\n\r\n  return (\r\n    <PagesOuterWrapper>\r\n      <Header />\r\n    </PagesOuterWrapper>\r\n  );\r\n};\r\n","/*\n *\n * created time: 2021/8/6 0006\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\n *\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport StarsMeta from \"../../../components/StarsMeta\";\nimport { HeaderOuterWrapper } from \"../../style\";\n\nexport default (props: any) => {\n  const {} = props;\n\n  const [] = useState();\n\n  useEffect(() => {}, []);\n\n  return (\n    <HeaderOuterWrapper>\n      <StarsMeta />\n    </HeaderOuterWrapper>\n  );\n};\n","/*\n *\n * created time: 2021/8/6 0006\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\n *\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport Head from \"./head\";\n\nexport default (props: any) => {\n  const {} = props;\n\n  const [] = useState();\n\n  useEffect(() => {}, []);\n\n  return (\n    <>\n      <Head />\n    </>\n  );\n};\n","/*\n *\n * created time: 2021/8/5 0005\n * by Shine_Lee, e-mail: wangyi_lixian@163.com\n *\n */\n\nimport React, { useState } from \"react\";\nimport PCHome from \"./pc\";\nimport MobileHome from \"./mobile\";\nimport { judgeIsMobile } from \"./utils\";\nimport { PagesOuterWrapper } from \"./style\";\n\nexport default (props: any) => {\n  const {} = props;\n\n  const [] = useState();\n\n  const isMobile = judgeIsMobile(window.navigator.userAgent.toLowerCase());\n\n  return (\n    <PagesOuterWrapper>\n      {isMobile ? <MobileHome /> : <PCHome />}\n    </PagesOuterWrapper>\n  );\n};\n","import React from \"react\";\nimport \"./global.css\";\nimport Home from \"./pages\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n"],"sourceRoot":""}